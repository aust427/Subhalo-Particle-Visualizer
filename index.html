<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="js/three.js-master/build/three.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script type="text/javascript" src="js/three.js-master/examples/js/controls/OrbitControls.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="main.css">
</head>

<script type="x-shader/xvertex" id="vertexShader">
    attribute float size;
    varying vec3 vColor;
    void main(){
        vColor = vec3(1.0, 1.0, 1.0);
        vec4 mvPosition = modelViewMatrix * vec4(vec3(position), 1.0);

        gl_PointSize = size / length (mvPosition.xyz);
        gl_Position = projectionMatrix * mvPosition;
    }
</script>

<script type="x-shader/x-fragment" id="fragmentShader">
    uniform sampler2D texture;
    varying vec3 vColor;
    void main()
    {
        gl_FragColor = vec4(vColor, 1.0);
        gl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);
    }
</script>

<html>
<body>
    <div id="HaloForm">
        <form id="snapHaloForm">
            Simulation:
            <select name="simulation">
                <option value="illustris">Illustris</option>
                <option value="illustristng">IllustrisTNG</option>
            </select>
            Snapshot:
            <input type="text" name="snapshot" value="135">
            SubHalo:
            <input type="text" name="subhalo" value="608">
            <button type="submit">Submit</button>
        </form>
    </div>
    <div id="animation">
        <div id="container"></div>
    </div>
    <table id="opts_table">
        <tr>
            <th class="tab_cell_head">Camera Type</th>
        </tr>
        <tr>
            <td>
                <button type="button" id="P_cam">Perspective</button>
                <button type="button" id="O_cam">Orthographic</button>
            </td>
        </tr>
        <tr>
            <th class="tab_cell_head">Camera Controls <br /> (Translational)</th>
        </tr>
        <tr>
            <td>
                Step:
                <input type="number" id="step_input" value="4">
                kpc / frame
            </td>
        </tr>
        <tr>
            <td class="tab_cell_left">A: -x</td>
            <td class="tab_cell_right">D: +x</td>
        </tr>
        <tr>
            <td class="tab_cell_left">S: -y</td>
            <td class="tab_cell_right">W: +y</td>
        </tr>
        <tr>
            <td class="tab_cell_left">F: -z</td>
            <td class="tab_cell_right">R: +z</td>
        </tr>
        <tr>
            <td>
                <button type="button" class="reset" id="reset_cam">Reset Camera</button>
            </td>
        </tr>
        <tr>
            <th class="tab_cell_head">Particle Controls <br /> (Rotational)</th>
        </tr>
        <tr>
            <td>
                Rotation:
                <input type="number" id="rot_input" value="0.075">
                rad / frame
            </td>
        </tr>
        <tr>
            <td class="tab_cell_left">J: CCW about z</td>
            <td class="tab_cell_right">L: CW about z</td>
        </tr>
        <tr>
            <td class="tab_cell_left">I: CCW about x</td>
            <td class="tab_cell_right">K: CW about x</td>
        </tr>
        <tr>
            <td>
                <button type="button" class="reset" id="reset_rot">Reset Particles</button>
            </td>
        </tr>
        <tr>
            <th class="tab_cell_head">Toggle Displays</th>
        </tr>
        <tr>
            <td>
                <input type="checkbox" id="display_grid"> Grid<br>
                <input type="checkbox" id="display_axes"> Axes<br>
                <input type="checkbox" id="display_stars"> Stars<br>
                <input type="checkbox" id="display_gas"> Gas<br>
            </td>
        </tr>
        <tr>
            <th class="tab_cell_head">Heatmap</th>
        </tr>
        <tr>
            <td>
                <input type="number" id="bin_num" value="20">
                bins
            </td>
        </tr>
        <tr>
            <td>
                Field:
                <select id="heatmapField">
                    <option value="{'type': 'star', 'field': 'NumDen'}">Star Count</option>
                    <option value="{'type': 'star', 'field': 'GFM_InitialMass'}">Initial Mass (GFM)</option>
                    <option value="{'type': 'star', 'field': 'GFM_Metallicity'}">Metallicity (GFM)</option>
                    <option value="{'type': 'star', 'field': 'GFM_StellarFormationTime'}">Stellar Form. Time</option>
                    <option value="{'type': 'star', 'field': 'Masses'}">Mass</option>
                    <option value="{'type': 'star', 'field': 'Potential'}">Potential</option>
                    <option value="{'type': 'star', 'field': 'SubfindDensity'}">Density (Subfind)</option>
                    <option value="{'type': 'star', 'field': 'SubfindHsml'}">Hsml (Subfind)</option>
                    <option value="{'type': 'star', 'field': 'SubfindVelDisp'}">Vel. Disp. (Subfind)</option>
                    <option value="{'type': 'gas', 'field': 'NumDen'}">Gas Count</option>
                    <option value="{'type': 'gas', 'field': 'ElectronAbundance'}">Electron Abundance</option>
                    <option value="{'type': 'gas', 'field': 'GFM_AGNRadiation'}">AGN Radiation (GFM)</option>
                    <option value="{'type': 'gas', 'field': 'GFM_CoolingRate'}">Cooling Rate (GFM)</option>
                    <option value="{'type': 'gas', 'field': 'GFM_Metallicity'}">Metallicity (GFM)</option>
                    <option value="{'type': 'gas', 'field': 'GFM_WindDMVelDisp'}">Wind/DM Vel. Disp.</option>
                    <option value="{'type': 'gas', 'field': 'InternalEnergy'}">Internal Energy</option>
                    <option value="{'type': 'gas', 'field': 'Masses'}">Masses</option>
                    <option value="{'type': 'gas', 'field': 'NeutralHydrogenAbundance'}">Neutral H Abund.</option>
                    <option value="{'type': 'gas', 'field': 'NumTracers'}">Num. Tracers</option>
                    <option value="{'type': 'gas', 'field': 'Potential'}">Potential</option>
                    <option value="{'type': 'gas', 'field': 'SmoothingLength'}">Smoothing Length</option>
                    <option value="{'type': 'gas', 'field': 'StarFormationRate'}">SFR</option>
                    <option value="{'type': 'gas', 'field': 'SubfindDensity'}">Density (Subfind)</option>
                    <option value="{'type': 'gas', 'field': 'SubfindHsml'}">Hhsml (Subfind)</option>
                    <option value="{'type': 'gas', 'field': 'SubfindVelDisp'}">Vel. Disp (Subfind)</option>
                    <option value="{'type': 'gas', 'field': 'Volume'}">Volume</option>
                </select>
            </td>
        </tr>
    </table>
    <script type="text/javascript" src='js/intro_script.js'></script>
</body>
</html>